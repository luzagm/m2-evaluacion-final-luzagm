"use strict";const button=document.querySelector(".js-btn"),input=document.querySelector(".js-input"),originalListShow=document.querySelector(".js-original"),favListShow=document.querySelector(".js-fav");let favArr=[],shows=[];function getFavShowsFromLocalStorage(){const s=JSON.parse(localStorage.getItem("fav-shows"));null!==s&&(favArr=s)}function setFavShowsIntoLocalStorage(){localStorage.setItem("fav-shows",JSON.stringify(favArr))}function searchShows(s){s.preventDefault();let e=input.value;fetch(`http://api.tvmaze.com/search/shows?q=${e}`).then(s=>s.json()).then(s=>{s.length>0?(shows=s,paintShows(s)):shows.innerHTML="No hay resultados para esta b√∫squeda"})}function paintShows(){let s="";for(let e=0;e<shows.length;e++){const t=shows[e].show.name,o=shows[e].show.id;null===shows[e].show.image?shows[e].show.image="https://via.placeholder.com/210x295/ffffff/666666/?text=TV":shows[e].show.image=shows[e].show.image.medium,s+=`<div class="js-show-list" id="${o}" data-index='${e}'><p class="show-list-title">${t}</p><img class="img-original" src="${shows[e].show.image}"></div>`}originalListShow.innerHTML=s;const e=document.querySelectorAll(".js-show-list");console.log(e);for(const s of e)s.addEventListener("click",selectFav),s.addEventListener("click",paintFavs)}function selectFav(s){const e=s.currentTarget.dataset.index,t=s.currentTarget;!1===favArr.includes(shows[e])&&favArr.push(shows[e]),t.classList.toggle("selected"),setFavShowsIntoLocalStorage(favArr)}function paintFavs(){favListShow.innerHTML="";for(const s of favArr)favListShow.innerHTML+=`<li><div class="fav-list-item"><div class="delete-btn">X</div><div class="main-fav"><p class="title-fav">${s.show.name}</p><img src="${s.show.image}" class="js-fav-image"></div></div> </li>`;let s=document.querySelectorAll(".delete-btn");console.log(s);for(const e of s)e.addEventListener("click",removeFavShow)}function removeFavShow(s){const e=s.currentTarget.dataset.index;favArr.splice(e,1),paintFavs(),setFavShowsIntoLocalStorage(favArr)}getFavShowsFromLocalStorage(),paintFavs(),button.addEventListener("click",searchShows);